[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Uso de R para toma de decisiones en salud",
    "section": "",
    "text": "Prefacio\nEstas notas son para el curso de Uso de R para toma de decisiones en salud. Las notas están en proceso de desarrollo continuo por lo que pueden cambiar. Si encuentras un error en las notas favor de decirnos.\n\n\n\n\n\n\nNote\n\n\n\nLos datos referidos en las notas están en el Github de estas notas, carpeta /datos",
    "crumbs": [
      "Prefacio"
    ]
  },
  {
    "objectID": "instalar.html",
    "href": "instalar.html",
    "title": "1  Instalación de R y RStudio",
    "section": "",
    "text": "1.1 Windows",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Instalación de `R` y `RStudio`</span>"
    ]
  },
  {
    "objectID": "instalar.html#windows",
    "href": "instalar.html#windows",
    "title": "1  Instalación de R y RStudio",
    "section": "",
    "text": "1.1.1 Instalación de R\n\nAccede a la página de CRAN (Comprehensive R Archive Network) https://cran.r-project.org/.\nDa clic en Download R for Windows y luego en Install R for the first time. Finalmente, ejecuta el archivo .exe que se descarga al dar click en Download R 4.4.0 for Windows .\n\n\n\n1.1.2 Instalación de Rtools\n\nWindows requiere, adicionalmente que instales Rtools. Para ello ve a https://cran.r-project.org/bin/windows/Rtools/ y selecciona RTools 4.4.\nDa click en Rtools44 installer para descargar el archivo .exe y sigue las instrucciones en pantalla al abrirlo.\n\n\n\n\n\n\n\nWarning\n\n\n\nSi tienes una versión anterior de R debes descargar el RTools correspondiente. El RTools 4.3 si tienes R 4.3 ó RTools 4.2 si tienes el 4.2.\n\n\n\n\n1.1.3 Instalación de `RStudio``\n\nFinalmente instala RStudio. Para ello accede a la página https://posit.co/download/rstudio-desktop/.\nVe hacia donde dice Install RStudio y una descarga debe iniciarse.\nAbre el archivo .exe y sigue las instrucciones en pantalla.\n\n\n\n\n\n\n\nTip\n\n\n\nRStudio está en su fase de salida (digamos de aquí a 5 años) y será reemplazado por Positron en el futuro. Por el momento nosotros seguimos enseñando RStudio pues Positron aún está en desarrollo experimental. Sin embargo, si te interesa experimentar, ¡descárgalo!",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Instalación de `R` y `RStudio`</span>"
    ]
  },
  {
    "objectID": "instalar.html#mac-osx",
    "href": "instalar.html#mac-osx",
    "title": "1  Instalación de R y RStudio",
    "section": "1.2 Mac (OSX)",
    "text": "1.2 Mac (OSX)\n\n1.2.1 Instalación de R\n\nAccede a la página de CRAN (Comprehensive R Archive Network) https://cran.r-project.org/.\nSelecciona Download R for (Mac) OS X y luego elige R-4.4.0.pkg de acuerdo con tu procesador.\n\n\n\n\n\n\n\nNote\n\n\n\nPara saber si tu Mac tiene chip Intel o M1 da click en la manzanita en la esquina superior izquierda de la pantalla y pon Acerca de esta Mac. La entrada del procesador te dirá si es Intel o Apple Silicon.\n\n\n\nSigue las instrucciones del .dmg que descargaste.\n\n\n\n1.2.2 Instalación de XQuartz\n\nAdicionalmente las Mac requieren la instalación de XQuartz. Accede a https://www.xquartz.org/ y descarga el archivo .pkg.\nÁbrelo y sigue las instrucciones en pantalla.\n\n\n\n1.2.3 Instalación de RStudio\n\nFinalmente instala RStudio. Para ello accede a la página https://posit.co/download/rstudio-desktop/.\nVe hacia donde dice Install RStudio y una descarga debe iniciarse.\nAbre el archivo .dmg y sigue las instrucciones en pantalla.\n\n\n\n\n\n\n\nTip\n\n\n\nRStudio está en su fase de salida (digamos de aquí a 5 años) y será reemplazado por Positron en el futuro. Por el momento nosotros seguimos enseñando RStudio pues Positron aún está en desarrollo experimental. Sin embargo, si te interesa experimentar, ¡descárgalo!",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Instalación de `R` y `RStudio`</span>"
    ]
  },
  {
    "objectID": "instalar.html#ubuntu",
    "href": "instalar.html#ubuntu",
    "title": "1  Instalación de R y RStudio",
    "section": "1.3 Ubuntu",
    "text": "1.3 Ubuntu\n\n1.3.1 Instalación de R\n\nVe a tu terminal y actualiza tus índices\n\n\nsudo apt update\n\n\nInstala paquetes adicionales requeridos:\n\n\nsudo apt install --no-install-recommends software-properties-common dirmngr\n\n\nR vive en un repositorio externo por lo que hay que agregarlo\n\n\nwget -qO- \\\nhttps://cloud.r-project.org/bin/linux/ubuntu/marutter_pubkey.asc \\\n| sudo tee -a /etc/apt/trusted.gpg.d/cran_ubuntu_key.asc\n\n\n\n\n\n\n\nTip\n\n\n\nVerifica la llave del repositorio con\n\nrun gpg --show-keys /etc/apt/trusted.gpg.d/cran_ubuntu_key.asc \n\nla huella debería ser E298A3A825C0D65DFD57CBB651716619E084DAB9.\n\n\n\nAgrega el repositorio a tu lista de fuentes:\n\n\nsudo add-apt-repository \\ \n\"deb https://cloud.r-project.org/bin/linux/ubuntu $(lsb_release -cs)-cran40/\"\n\n\nActualiza e instala:\n\n\nsudo apt update\nsudo apt install r-base r-base-dev\n\n\n\n\n\n\n\nTip\n\n\n\nAlgunos repositorios requieren paquetes adicionales para funcionar. Puedes instalarlos por tu cuenta o bien puedes agregar el siguiente repositorio e instalarlos desde antes:\n\nsudo add-apt-repository ppa:c2d4u.team/c2d4u4.0+\nsudo apt update\nsudo apt install --no-install-recommends \\ \nbuild-dep \\ \nr-cran-tidyverse \\ \nr-cran-foreign \\ \nr-cran-mass \\ \nr-cran-matrix \\ \nr-cran-spatial",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Instalación de `R` y `RStudio`</span>"
    ]
  },
  {
    "objectID": "instalar.html#instalación-de-rstudio-2",
    "href": "instalar.html#instalación-de-rstudio-2",
    "title": "1  Instalación de R y RStudio",
    "section": "1.4 Instalación de RStudio",
    "text": "1.4 Instalación de RStudio\n\nVe a https://posit.co/download/rstudio-desktop/.\nDa click en Download RStudio Desktop\nEn la terminal ve a descargas\nInstala con la siguiente instrucción (cambia el nombre del archivo deb por el que tú descargaste)\n\n\nsudo dpkg -i rstudio-2023.12.1-402-amd64.deb",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Instalación de `R` y `RStudio`</span>"
    ]
  },
  {
    "objectID": "datos.html",
    "href": "datos.html",
    "title": "4  Datos",
    "section": "",
    "text": "4.1 Falasinnu2023.RData\nTomada de las notas de Advanced Epidemiological Methods por M. Ehsan Karim. Los datos provienen del National Health Interview Survey (NHIS) 2016 y fueron utilizados en Falasinnu et al. (2023) para predecir dolor crónico de alto impacto (HICP). Las siguientes variables están presentes en la base:",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Datos</span>"
    ]
  },
  {
    "objectID": "datos.html#falasinnu2023.rdata",
    "href": "datos.html#falasinnu2023.rdata",
    "title": "4  Datos",
    "section": "",
    "text": "Variable\nDescripción\n\n\n\n\nstudyid\nIdentificador único\n\n\npsu\nPseudo-PSU\n\n\nstrata\nPseudoestrato\n\n\nweight\nPeso muestral\n\n\nHICP\nDolor Crónico de Alto Impacto (variable de resultado binaria)\n\n\nage\nEdad\n\n\nsex\nSexo\n\n\nhhsize\nNúmero de personas en el hogar\n\n\nborn\nNacionalidad\n\n\nmarital\nEstado civil\n\n\nregion\nRegión\n\n\nrace\nRaza/etnia\n\n\neducation\nEducación\n\n\nemployment.status\nSituación laboral\n\n\npoverty.status\nEstado de pobreza\n\n\nveteran\nVeterano\n\n\ninsurance\nCobertura de seguro médico\n\n\nsex.orientation\nOrientación sexual\n\n\nworried.money\nPreocupado por el dinero\n\n\ngood.neighborhood\nBuen vecindario\n\n\npsy.symptom\nSíntomas psicológicos\n\n\nvisit.ED\nNúmero de veces en Urgencias\n\n\nsurgery\nNúmero de cirugías en los últimos 12 meses\n\n\ndr.visit\nTiempo transcurrido desde las visitas al médico\n\n\ncancer\nCáncer\n\n\nasthma\nAsma\n\n\nhtn\nHipertensión\n\n\nliver.disease\nEnfermedad hepática\n\n\ndiabetes\nDiabetes\n\n\nulcer\nÚlcera\n\n\nstroke\nAccidente cerebrovascular\n\n\nemphysema\nEnfisema\n\n\ncopd\nEPOC\n\n\nhigh.cholesterol\nColesterol alto\n\n\ncoronary.heart.disease\nEnfermedad coronaria\n\n\nangina\nAngina de pecho\n\n\nheart.attack\nInfarto de miocardio\n\n\nheart.disease\nEnfermedad cardíaca\n\n\narthritis\nArtritis y reumatismo\n\n\ncrohns.disease\nEnfermedad de Crohn\n\n\nplace.routine.care\nLugar habitual de atención rutinaria\n\n\ntrouble.asleep\nDificultad para conciliar el sueño\n\n\nobese\nObesidad\n\n\ncurrent.smoker\nFumador actual\n\n\nheavy.drinker\nBebedor empedernido\n\n\nhospitalization\nDías de estancia hospitalaria\n\n\nbetter.health.status\nMejor estado de salud\n\n\nphysical.activity\nActividad física\n\n\n\n\n\n\n\nFalasinnu, Titilola, Md Belal Hossain, Kenneth Arnold Weber II, Charles G Helmick, Mohammad Ehsanul Karim, and Sean Mackey. 2023. “The Problem of Pain in the United States: A Population-Based Characterization of Biopsychosocial Correlates of High Impact Chronic Pain Using the National Health Interview Survey.” The Journal of Pain 24 (6): 1094–1103.",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Datos</span>"
    ]
  },
  {
    "objectID": "references.html",
    "href": "references.html",
    "title": "Referencias",
    "section": "",
    "text": "Falasinnu, Titilola, Md Belal Hossain, Kenneth Arnold Weber II, Charles\nG Helmick, Mohammad Ehsanul Karim, and Sean Mackey. 2023. “The\nProblem of Pain in the United States: A Population-Based\nCharacterization of Biopsychosocial Correlates of High Impact Chronic\nPain Using the National Health Interview Survey.” The Journal\nof Pain 24 (6): 1094–1103.",
    "crumbs": [
      "Referencias"
    ]
  },
  {
    "objectID": "paquetes.html",
    "href": "paquetes.html",
    "title": "3  Paquetes",
    "section": "",
    "text": "A continuación los paquetes y versiones utilizadas para generar este libro:\n\nsessioninfo::session_info(pkgs = \"installed\")\n\n─ Session info ───────────────────────────────────────────────────────────────\n setting  value\n version  R version 4.4.0 (2024-04-24)\n os       macOS Sonoma 14.5\n system   x86_64, darwin20\n ui       X11\n language (EN)\n collate  en_US.UTF-8\n ctype    en_US.UTF-8\n tz       America/Mexico_City\n date     2024-07-28\n pandoc   3.2.1 @ /usr/local/Caskroom/miniconda/base/bin/ (via rmarkdown)\n\n─ Packages ───────────────────────────────────────────────────────────────────\n ! package           * version    date (UTC) lib source\n   abind               1.4-5      2016-07-21 [1] RSPM\n   anytime             0.3.9      2020-08-27 [1] RSPM\n   askpass             1.2.0      2023-09-03 [1] RSPM\n   backports           1.5.0      2024-05-23 [1] RSPM\n   base64enc           0.1-3      2015-07-28 [1] RSPM\n   BH                  1.84.0-0   2024-01-10 [1] RSPM\n   bigD                0.2.0      2022-09-05 [1] RSPM\n   bit                 4.0.5      2022-11-15 [1] RSPM\n   bit64               4.0.5      2020-08-30 [1] RSPM\n   bitops              1.0-7      2021-04-24 [1] CRAN (R 4.4.0)\n   blob                1.2.4      2023-03-17 [1] RSPM\n   boot                1.3-30     2024-02-26 [2] CRAN (R 4.4.0)\n   broom               1.0.6      2024-05-17 [1] RSPM\n   bslib               0.7.0      2024-03-29 [1] RSPM\n   cachem              1.1.0      2024-05-16 [1] RSPM\n   callr               3.7.6      2024-03-25 [1] RSPM\n   cellranger          1.1.0      2016-07-27 [1] RSPM\n   checkmate           2.3.1      2023-12-04 [1] RSPM\n   class               7.3-22     2023-05-03 [2] CRAN (R 4.4.0)\n P cli                 3.6.3      2024-06-21 [?] RSPM\n   clipr               0.8.0      2022-02-22 [1] RSPM\n   clock               0.7.1      2024-07-18 [1] RSPM\n   cluster             2.1.6      2023-12-01 [2] CRAN (R 4.4.0)\n   codetools           0.2-20     2024-03-31 [2] CRAN (R 4.4.0)\n   colorspace          2.1-1      2024-07-26 [1] RSPM\n   commonmark          1.9.1      2024-01-30 [1] RSPM\n   conflicted          1.2.0      2023-02-01 [1] RSPM\n   cpp11               0.4.7      2023-12-02 [1] RSPM\n   crayon              1.5.3      2024-06-20 [1] RSPM\n   credentials         2.0.1      2023-09-06 [1] RSPM\n   crosstalk           1.2.1      2023-11-23 [1] RSPM\n   crul                1.5.0      2024-07-19 [1] RSPM\n   curl                5.2.1      2024-03-01 [1] RSPM\n   data.table          1.15.4     2024-03-30 [1] RSPM\n   DBI                 1.2.3      2024-06-02 [1] RSPM\n   dbplyr              2.5.0      2024-03-19 [1] RSPM\n   desc                1.4.3      2023-12-10 [1] RSPM\n   diagram             1.6.5      2020-09-30 [1] RSPM\n   dials               1.2.1      2024-02-22 [1] RSPM\n   DiceDesign          1.10       2023-12-07 [1] RSPM\n P digest              0.6.36     2024-06-23 [?] RSPM\n   distributional      0.4.0      2024-02-07 [1] RSPM\n   doFuture            1.0.1      2023-12-20 [1] CRAN (R 4.4.0)\n   doParallel          1.0.17     2022-02-07 [1] CRAN (R 4.4.0)\n   dplyr               1.1.4      2023-11-17 [1] RSPM\n   dtplyr              1.3.1      2023-03-22 [1] RSPM\n   dygraphs            1.1.1.6    2018-07-11 [1] RSPM\n P evaluate            0.24.0     2024-06-10 [?] CRAN (R 4.4.0)\n   extraDistr          1.10.0     2023-11-30 [1] RSPM\n   fansi               1.0.6      2023-12-08 [1] RSPM\n   farver              2.1.2      2024-05-13 [1] RSPM\n P fastmap             1.2.0      2024-05-15 [?] RSPM\n   flextable           0.9.6      2024-05-05 [1] RSPM\n   fontawesome         0.5.2      2023-08-19 [1] RSPM\n   fontBitstreamVera   0.1.1      2017-02-01 [1] RSPM\n   fontLiberation      0.1.0      2016-10-15 [1] RSPM\n   fontquiver          0.2.1      2017-02-01 [1] RSPM\n   forcats             1.0.0      2023-01-29 [1] RSPM\n   foreach             1.5.2      2022-02-02 [1] RSPM\n   forecast            8.23.0     2024-06-20 [1] RSPM\n   foreign             0.8-87     2024-06-26 [2] CRAN (R 4.4.0)\n   fracdiff            1.5-3      2024-02-01 [1] RSPM\n   fs                  1.6.4      2024-04-25 [1] RSPM\n   furrr               0.3.1      2022-08-15 [1] RSPM\n   future              1.33.2     2024-03-26 [1] RSPM\n   future.apply        1.11.2     2024-03-28 [1] RSPM\n   gargle              1.5.2      2023-07-20 [1] RSPM\n   gdtools             0.3.7      2024-03-05 [1] RSPM\n   generics            0.1.3      2022-07-05 [1] RSPM\n   gert                2.1.0      2024-07-19 [1] RSPM\n   gfonts              0.2.0      2023-01-08 [1] RSPM\n   ggfortify           0.4.17     2024-04-17 [1] RSPM\n   ggplot2             3.5.1      2024-04-23 [1] RSPM\n   ggtext              0.1.2      2022-09-16 [1] RSPM\n   gh                  1.4.1      2024-03-28 [1] RSPM\n   gitcreds            0.1.2      2022-09-08 [1] RSPM\n   globals             0.16.3     2024-03-08 [1] RSPM\n   glue                1.7.0      2024-01-09 [1] RSPM\n   googledrive         2.1.1      2023-06-11 [1] RSPM\n   googlesheets4       1.1.1      2023-06-11 [1] RSPM\n   gower               1.0.1      2022-12-22 [1] RSPM\n   GPfit               1.0-8      2019-02-08 [1] RSPM\n   gridExtra           2.3        2017-09-09 [1] RSPM\n   gridtext            0.1.5      2022-09-16 [1] RSPM\n   gt                  0.11.0     2024-07-09 [1] RSPM\n   gtable              0.3.5      2024-04-22 [1] RSPM\n   hardhat             1.4.0      2024-06-02 [1] RSPM\n   haven               2.5.4      2023-11-30 [1] RSPM\n   highr               0.11       2024-05-26 [1] RSPM\n   hms                 1.1.3      2023-03-21 [1] RSPM\n P htmltools           0.5.8.1    2024-04-04 [?] RSPM\n P htmlwidgets         1.6.4      2023-12-06 [?] RSPM\n   httpcode            0.3.0      2020-04-10 [1] RSPM\n   httpuv              1.6.15     2024-03-26 [1] RSPM\n   httr                1.4.7      2023-08-15 [1] RSPM\n   httr2               1.0.2      2024-07-16 [1] RSPM\n   ids                 1.0.1      2017-05-31 [1] RSPM\n   infer               1.0.7      2024-03-25 [1] RSPM\n   ini                 0.3.1      2018-05-20 [1] RSPM\n   inline              0.3.19     2021-05-31 [1] RSPM\n   ipred               0.9-15     2024-07-18 [1] RSPM\n   isoband             0.2.7      2022-12-20 [1] RSPM\n   iterators           1.0.14     2022-02-05 [1] RSPM\n   janitor             2.2.0      2023-02-02 [1] RSPM\n   jpeg                0.1-10     2022-11-29 [1] RSPM\n   jquerylib           0.1.4      2021-04-26 [1] RSPM\n P jsonlite            1.8.8      2023-12-04 [?] RSPM\n   juicyjuice          0.1.0      2022-11-10 [1] RSPM\n   KernSmooth          2.23-24    2024-05-17 [2] CRAN (R 4.4.0)\n P knitr               1.48       2024-07-07 [?] CRAN (R 4.4.0)\n   labeling            0.4.3      2023-08-29 [1] RSPM\n   later               1.3.2      2023-12-06 [1] RSPM\n   lattice             0.22-6     2024-03-20 [2] CRAN (R 4.4.0)\n   lava                1.8.0      2024-03-05 [1] RSPM\n   lazyeval            0.2.2      2019-03-15 [1] RSPM\n   lhs                 1.2.0      2024-06-30 [1] RSPM\n   lifecycle           1.0.4      2023-11-07 [1] RSPM\n   listenv             0.9.1      2024-01-29 [1] RSPM\n   lme4                1.1-35.5   2024-07-03 [1] CRAN (R 4.4.0)\n   lmtest              0.9-40     2022-03-21 [1] CRAN (R 4.4.0)\n   loo                 2.8.0      2024-07-03 [1] CRAN (R 4.4.0)\n   lubridate           1.9.3      2023-09-27 [1] RSPM\n   magrittr            2.0.3      2022-03-30 [1] RSPM\n   markdown            1.13       2024-06-04 [1] CRAN (R 4.4.0)\n   MASS                7.3-61     2024-06-13 [2] CRAN (R 4.4.0)\n   Matrix              1.7-0      2024-03-22 [2] CRAN (R 4.4.0)\n   matrixStats         1.3.0      2024-04-11 [1] RSPM\n   memoise             2.0.1      2021-11-26 [1] RSPM\n   mgcv                1.9-1      2023-12-21 [2] CRAN (R 4.4.0)\n   mime                0.12       2021-09-28 [1] RSPM\n   minqa               1.2.7      2024-05-20 [1] RSPM\n   mitools             2.4        2019-04-26 [1] RSPM\n   modeldata           1.4.0      2024-06-19 [1] RSPM\n   modelenv            0.1.1      2023-03-08 [1] RSPM\n   modelr              0.1.11     2023-03-22 [1] RSPM\n   modeltime           1.2.8      2023-09-02 [1] RSPM\n   munsell             0.5.1      2024-04-01 [1] RSPM\n   nlme                3.1-165    2024-06-06 [2] CRAN (R 4.4.0)\n   nloptr              2.1.1      2024-06-25 [1] CRAN (R 4.4.0)\n   nnet                7.3-19     2023-05-03 [2] CRAN (R 4.4.0)\n   numDeriv            2016.8-1.1 2019-06-06 [1] RSPM\n   officer             0.6.6      2024-05-05 [1] RSPM\n   openssl             2.2.0      2024-05-16 [1] RSPM\n   padr                0.6.2      2022-11-23 [1] RSPM\n   parallelly          1.38.0     2024-07-27 [1] RSPM\n   parsnip             1.2.1      2024-03-22 [1] RSPM\n   patchwork           1.2.0      2024-01-08 [1] RSPM\n   pillar              1.9.0      2023-03-22 [1] RSPM\n   pkgbuild            1.4.4      2024-03-17 [1] RSPM\n   pkgconfig           2.0.3      2019-09-22 [1] RSPM\n   plotly              4.10.4     2024-01-13 [1] RSPM\n   png                 0.1-8      2022-11-29 [1] RSPM\n   posterior           1.6.0      2024-07-03 [1] CRAN (R 4.4.0)\n   prettyunits         1.2.0      2023-09-24 [1] RSPM\n   processx            3.8.4      2024-03-16 [1] RSPM\n   prodlim             2024.06.25 2024-06-24 [1] RSPM\n   progress            1.2.3      2023-12-06 [1] RSPM\n   progressr           0.14.0     2023-08-10 [1] RSPM\n   promises            1.3.0      2024-04-05 [1] RSPM\n   prophet             1.0        2021-03-30 [1] RSPM\n   ps                  1.7.7      2024-07-02 [1] CRAN (R 4.4.0)\n   purrr               1.0.2      2023-08-10 [1] RSPM\n   quadprog            1.5-8      2019-11-20 [1] CRAN (R 4.4.0)\n   quantmod            0.4.26     2024-02-14 [1] RSPM\n   QuickJSR            1.3.1      2024-07-14 [1] RSPM\n   R6                  2.5.1      2021-08-19 [1] RSPM\n   ragg                1.3.2      2024-05-15 [1] RSPM\n   rappdirs            0.3.3      2021-01-31 [1] RSPM\n   RColorBrewer        1.1-3      2022-04-03 [1] RSPM\n   Rcpp                1.0.13     2024-07-17 [1] RSPM\n   RcppArmadillo       14.0.0-1   2024-07-08 [1] CRAN (R 4.4.0)\n   RcppEigen           0.3.4.0.0  2024-02-28 [1] RSPM\n   RcppParallel        5.1.8      2024-07-06 [1] CRAN (R 4.4.0)\n   RcppRoll            0.3.1      2024-07-07 [1] RSPM\n   reactable           0.4.4      2023-03-12 [1] RSPM\n   reactR              0.6.0      2024-06-26 [1] RSPM\n   readr               2.1.5      2024-01-10 [1] RSPM\n   readxl              1.4.3      2023-07-06 [1] RSPM\n   recipes             1.1.0      2024-07-04 [1] RSPM\n   rematch             2.0.0      2023-08-30 [1] RSPM\n   rematch2            2.1.2      2020-05-01 [1] RSPM\n   remotes             2.5.0      2024-03-17 [1] RSPM\n   renv                1.0.7      2024-04-11 [1] CRAN (R 4.4.0)\n   reprex              2.1.1      2024-07-06 [1] CRAN (R 4.4.0)\n P rlang               1.1.4      2024-06-04 [?] CRAN (R 4.4.0)\n P rmarkdown           2.27       2024-05-17 [?] RSPM\n   rpart               4.1.23     2023-12-05 [2] CRAN (R 4.4.0)\n   rprojroot           2.0.4      2023-11-05 [1] RSPM\n   rsample             1.2.1      2024-03-25 [1] RSPM\n   rstan               2.32.6     2024-03-05 [1] RSPM\n   rstantools          2.4.0      2024-01-31 [1] RSPM\n P rstudioapi          0.16.0     2024-03-24 [?] RSPM\n   rvest               1.0.4      2024-02-12 [1] RSPM\n   sass                0.4.9      2024-03-15 [1] RSPM\n   scales              1.3.0      2023-11-28 [1] RSPM\n   selectr             0.4-2      2019-11-20 [1] RSPM\n P sessioninfo         1.2.2      2021-12-06 [?] RSPM\n   shape               1.4.6.1    2024-02-23 [1] RSPM\n   shiny               1.8.1.1    2024-04-02 [1] RSPM\n   slider              0.3.1      2023-10-12 [1] RSPM\n   snakecase           0.11.1     2023-08-27 [1] RSPM\n   sourcetools         0.1.7-1    2023-02-01 [1] RSPM\n   spatial             7.3-17     2023-07-20 [2] CRAN (R 4.4.0)\n   SQUAREM             2021.1     2021-01-13 [1] RSPM\n   srvyr               1.2.0      2023-02-21 [1] RSPM\n   StanHeaders         2.32.10    2024-07-15 [1] RSPM\n   stringi             1.8.4      2024-05-06 [1] RSPM\n   stringr             1.5.1      2023-11-14 [1] RSPM\n   survey              4.4-2      2024-03-20 [1] RSPM\n   survival            3.7-0      2024-06-05 [2] CRAN (R 4.4.0)\n   sys                 3.4.2      2023-05-23 [1] RSPM\n   systemfonts         1.1.0      2024-05-15 [1] RSPM\n   tensorA             0.36.2.1   2023-12-13 [1] RSPM\n   textshaping         0.4.0      2024-05-24 [1] RSPM\n   tibble              3.2.1      2023-03-20 [1] RSPM\n   tidymodels          1.2.0      2024-03-25 [1] RSPM\n   tidyr               1.3.1      2024-01-24 [1] RSPM\n   tidyselect          1.2.1      2024-03-11 [1] RSPM\n   tidyverse           2.0.0      2023-02-22 [1] RSPM\n   timechange          0.3.0      2024-01-18 [1] RSPM\n   timeDate            4032.109   2023-12-14 [1] RSPM\n   timetk              2.9.0      2023-10-31 [1] RSPM\n   tinytex             0.52       2024-07-18 [1] RSPM\n   triebeard           0.4.1      2023-03-04 [1] RSPM\n   tseries             0.10-56    2024-05-14 [1] RSPM\n   tsfeatures          1.1.1      2023-08-28 [1] RSPM\n   TTR                 0.24.4     2023-11-28 [1] RSPM\n   tune                1.2.1      2024-04-18 [1] RSPM\n   tzdb                0.4.0      2023-05-12 [1] RSPM\n   urca                1.3-4      2024-05-27 [1] RSPM\n   urltools            1.7.3      2019-04-14 [1] RSPM\n   usethis             2.2.3      2024-02-19 [1] RSPM\n   utf8                1.2.4      2023-10-22 [1] RSPM\n   uuid                1.2-0      2024-01-14 [1] RSPM\n   V8                  4.4.2      2024-02-15 [1] RSPM\n   vctrs               0.6.5      2023-12-01 [1] RSPM\n   viridisLite         0.4.2      2023-05-02 [1] RSPM\n   vroom               1.6.5      2023-12-05 [1] RSPM\n   warp                0.2.1      2023-11-02 [1] RSPM\n   whisker             0.4.1      2022-12-05 [1] RSPM\n   withr               3.0.0      2024-01-16 [1] RSPM\n   workflows           1.1.4      2024-02-19 [1] RSPM\n   workflowsets        1.1.0      2024-03-21 [1] RSPM\n P xfun                0.46       2024-07-18 [?] RSPM\n   xgboost             1.7.8.1    2024-07-24 [1] RSPM\n   xml2                1.3.6      2023-12-04 [1] RSPM\n   xtable              1.8-4      2019-04-21 [1] RSPM\n   xts                 0.14.0     2024-06-05 [1] RSPM\n P yaml                2.3.10     2024-07-26 [?] RSPM\n   yardstick           1.3.1      2024-03-21 [1] RSPM\n   zip                 2.3.1      2024-01-27 [1] RSPM\n   zoo                 1.8-12     2023-04-13 [1] RSPM\n\n [1] /Users/rodrigozepedatello/Documents/Curso_R_decisiones/Uso de R para toma de decisiones en salud/renv/library/macos/R-4.4/x86_64-apple-darwin20\n [2] /Users/rodrigozepedatello/Library/Caches/org.R-project.R/R/renv/sandbox/macos/R-4.4/x86_64-apple-darwin20/2edc1867\n\n P ── Loaded and on-disk path mismatch.\n\n──────────────────────────────────────────────────────────────────────────────",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Paquetes</span>"
    ]
  },
  {
    "objectID": "modelos.html",
    "href": "modelos.html",
    "title": "2  Modelos",
    "section": "",
    "text": "2.1 ¿Qué son los modelos matemáticos?\nUn modelo en general es cualquier representación de la realidad que media entre una teoría y las observaciones o datos. Algunos modelos famosos son:\nNosotros nos enfocaremos más en las regresiones lineales y menos en las primeras dos opciones. Pero es importante entender que, al igual que el resto del conocimiento científico, los modelos matemáticos son abstracciones en nada distintas a las teorías sociales, las explicaciones conceptuales en epidemiología Morgan and Morrison (1999) Frigg and Hartmann (2006).\nPara nosotros la definición que usaremos será que un modelo matemático es la de Porta (2018):\nAunque extenderemos un poquito lo que es “ecuación” e incluiremos también algoritmos y programas donde no necesariamente es obvio qué es una ecuación.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Modelos</span>"
    ]
  },
  {
    "objectID": "modelos.html#qué-son-los-modelos-matemáticos",
    "href": "modelos.html#qué-son-los-modelos-matemáticos",
    "title": "2  Modelos",
    "section": "",
    "text": "Las células\n\n\n\n\nUna célula según la Enciclopedia Británica\n\n\n\nEl marxismo\n\n\n\n\nMarx según Diego Rivera\n\n\n\nLas regresiones lineales\n\n\n\n\n\nUna representación de un proceso biológico, sistema o relación por medio de una ecuación matemática o conjunto de ecuaciones, muchas veces involucrando varias variables aleatorias.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Modelos</span>"
    ]
  },
  {
    "objectID": "modelos.html#clasificación-de-los-modelos",
    "href": "modelos.html#clasificación-de-los-modelos",
    "title": "2  Modelos",
    "section": "2.2 Clasificación de los modelos",
    "text": "2.2 Clasificación de los modelos\nNosotros nos enfocaremos en dos formas para clasificar los modelos matemáticos según sus objetivos.\n\n2.2.1 Predicción vs inferencia\nEl objetivo de un modelo de predicción es dada una cierta cantidad de observaciones, construir un modelo que establezca cómo se comportará una siguiente (nueva) observación.\nEjemplos de modelos de predicción:\n\nModelos como Kuddus et al. (2021) buscan predecir qué pasaría con la tuberculosis en Bangladesh bajo distintos escenarios de intervención (como aumento en pruebas individuales, aumento en pruebas para susceptibilidad antimicrobiana, aumento en tratamientos).\nModelos como Benedum et al. (2020) que buscan predecir cuántos casos de dengue habrá en las siguientes semanas en distintas poblaciones.\nModelos como Placido et al. (2023) que buscan predecir cáncer de páncreas según la historia clínica en las personas.\n\nEl objetivo de un modelo de inferencia es, dada una cierta cantidad de observaciones, determinar un parámetro que explique o describa a una población.\nEjemplos de modelos de inferencia:\n\nLa ENSANUT 2020 Vidaña-Pérez et al. (2021) buscaba determinar la prevalencia de COVID-19 en la población.\nChew et al. (2000) estableció una asociación causal entre exposición al virus del Nipah en Singapur y cerdos importados de Malasia.\nLos costos de la atención a diabéticos en México (2010) establecidos por Rodrı́guez Bolaños et al. (2010).\n\n\n\n2.2.2 Clasificación vs regresión\nUn modelo de clasificación busca determinar a qué grupo (o grupos) pertenece una observación. En este caso un modelo de clasificación regresa etiquetas que determinan a qué grupo pertenece cada observación. Como ejemplos:\n\nPlacido et al. (2023) buscaba determinar si un paciente desarrollaría cáncer (estaba en el grupo de riesgo de cáncer o no).\nFalasinnu et al. (2023) determina factores que clasifican a los pacientes en riesgo de dolor crónico de alto impacto o no.\n\nUn modelo de regresión busca determinar un valor (o múltiples) para una observación. En este caso un modelo de regresión regresa un valor numérico (continuo) y potencialmente puede regresar cuantos números se requieran. Como ejemplos\n\nLa ENSANUT 2020 Vidaña-Pérez et al. (2021) buscaba determinar la prevalencia de COVID-19 en la población (la prevalencia es un número).\nModelos como Benedum et al. (2020) que buscan predecir cuántos casos de dengue regresan varios números continuos (es una regresión).",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Modelos</span>"
    ]
  },
  {
    "objectID": "modelos.html#flujo-de-trabajo",
    "href": "modelos.html#flujo-de-trabajo",
    "title": "2  Modelos",
    "section": "2.3 Flujo de trabajo",
    "text": "2.3 Flujo de trabajo\nEn el área de modelaje el flujo de trabajo no es lineal. Generalmente suponemos que los datos ya están dados y nos ciclamos en un proceso de transformación, visualización y modelaje. El primer modelo siempre será malo y de ahí lo que resta es mejorar. El siguiente diagrama extraido de Wickham, Çetinkaya-Rundel, and Grolemund (2023) explica un poco el proceso:\n\n\n\nProceso de trabajo de modelos\n\n\nEl proceso de toma de decisiones está ahí dentro del proceso de hacer modelos. Veamos!\n\n\n\n\nBenedum, Corey M, Kimberly M Shea, Helen E Jenkins, Louis Y Kim, and Natasha Markuzon. 2020. “Weekly Dengue Forecasts in Iquitos, Peru; San Juan, Puerto Rico; and Singapore.” Plos Neglected Tropical Diseases 14 (10): e0008710.\n\n\nChew, Madeleine HL, Paul M Arguin, David K Shay, Kee-Tai Goh, Pierre E Rollin, Wun-Ju Shieh, Sherif R Zaki, et al. 2000. “Risk Factors for Nipah Virus Infection Among Abattoir Workers in Singapore.” The Journal of Infectious Diseases 181 (5): 1760–63.\n\n\nFalasinnu, Titilola, Md Belal Hossain, Kenneth Arnold Weber II, Charles G Helmick, Mohammad Ehsanul Karim, and Sean Mackey. 2023. “The Problem of Pain in the United States: A Population-Based Characterization of Biopsychosocial Correlates of High Impact Chronic Pain Using the National Health Interview Survey.” The Journal of Pain 24 (6): 1094–1103.\n\n\nFrigg, Roman, and Stephan Hartmann. 2006. “Models in Science.”\n\n\nKuddus, Md Abdul, Michael T Meehan, Md Abu Sayem, and Emma S McBryde. 2021. “Scenario Analysis for Programmatic Tuberculosis Control in Bangladesh: A Mathematical Modelling Study.” Scientific Reports 11 (1): 4354.\n\n\nMorgan, Mary S, and Margaret Morrison. 1999. Models as Mediators: Perspectives on Natural and Social Science. 52. Cambridge University Press.\n\n\nPlacido, Davide, Bo Yuan, Jessica X Hjaltelin, Chunlei Zheng, Amalie D Haue, Piotr J Chmura, Chen Yuan, et al. 2023. “A Deep Learning Algorithm to Predict Risk of Pancreatic Cancer from Disease Trajectories.” Nature Medicine 29 (5): 1113–22.\n\n\nPorta, Miquel. 2018. A Dictionary of Public Health. Oxford University Press.\n\n\nRodrı́guez Bolaños, Rosibel de los Ángeles, Luz Myriam Reynales Shigematsu, Jorge Alberto Jiménez Ruı́z, Sergio Arturo Juárez Márquezy, and Mauricio Hernández Ávila. 2010. “Costos Directos de Atención médica En Pacientes Con Diabetes Mellitus Tipo 2 En méxico: Análisis de Microcosteo.” Revista Panamericana de Salud pública 28: 412–20.\n\n\nVidaña-Pérez, Dèsirée, Nancy López-Olmedo, Romina González-Morales, Teresa Shamah-Levy, and Tonatiuh Barrientos-Gutiérrez. 2021. “Prevalence of Covid-19 Sequelae in the National Health and Nutrition Survey 2020.” Salud pública de méxico 63 (6): 799–802.\n\n\nWickham, Hadley, Mine Çetinkaya-Rundel, and Garrett Grolemund. 2023. R for Data Science. \" O’Reilly Media, Inc.\".",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Modelos</span>"
    ]
  },
  {
    "objectID": "ejemplomodelo.html",
    "href": "ejemplomodelo.html",
    "title": "3  Un modelo de predicción",
    "section": "",
    "text": "3.1 El modelo\nNuestro modelo busca predecir las covariables individuales que determinan Dolor Crónico de Alto Impacto (HICP). La base de datos que utilizaremos es Falasinnu2023.RData. Ésta proviene del National Health Interview Survey (NHIS) 2016 y fueron utilizados en Falasinnu et al. (2023) para predecir dolor crónico de alto impacto (HICP). Las siguientes variables están presentes en la base:",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Un modelo de predicción</span>"
    ]
  },
  {
    "objectID": "ejemplomodelo.html#el-modelo",
    "href": "ejemplomodelo.html#el-modelo",
    "title": "3  Un modelo de predicción",
    "section": "",
    "text": "Variable\nDescripción\n\n\n\n\nstudyid\nIdentificador único\n\n\npsu\nPseudo-PSU (muestreo)\n\n\nstrata\nPseudoestrato (muestreo)\n\n\nweight\nPeso muestral (muestreo)\n\n\nHICP\nDolor Crónico de Alto Impacto (variable de interés)\n\n\nage\nEdad\n\n\nsex\nSexo\n\n\nhhsize\nNúmero de personas en el hogar\n\n\nborn\nNacionalidad\n\n\nmarital\nEstado civil\n\n\nregion\nRegión\n\n\nrace\nRaza/etnia\n\n\neducation\nEducación\n\n\nemployment.status\nSituación laboral\n\n\npoverty.status\nEstado de pobreza\n\n\nveteran\nVeterano\n\n\ninsurance\nCobertura de seguro médico\n\n\nsex.orientation\nOrientación sexual\n\n\nworried.money\nPreocupado por el dinero\n\n\ngood.neighborhood\nBuen vecindario\n\n\npsy.symptom\nSíntomas psicológicos\n\n\nvisit.ED\nNúmero de veces en Urgencias\n\n\nsurgery\nNúmero de cirugías en los últimos 12 meses\n\n\ndr.visit\nTiempo transcurrido desde las visitas al médico\n\n\ncancer\nCáncer\n\n\nasthma\nAsma\n\n\nhtn\nHipertensión\n\n\nliver.disease\nEnfermedad hepática\n\n\ndiabetes\nDiabetes\n\n\nulcer\nÚlcera\n\n\nstroke\nAccidente cerebrovascular\n\n\nemphysema\nEnfisema\n\n\ncopd\nEPOC\n\n\nhigh.cholesterol\nColesterol alto\n\n\ncoronary.heart.disease\nEnfermedad coronaria\n\n\nangina\nAngina de pecho\n\n\nheart.attack\nInfarto de miocardio\n\n\nheart.disease\nEnfermedad cardíaca\n\n\narthritis\nArtritis y reumatismo\n\n\ncrohns.disease\nEnfermedad de Crohn\n\n\nplace.routine.care\nLugar habitual de atención rutinaria\n\n\ntrouble.asleep\nDificultad para conciliar el sueño\n\n\nobese\nObesidad\n\n\ncurrent.smoker\nFumador actual\n\n\nheavy.drinker\nBebedor empedernido\n\n\nhospitalization\nDías de estancia hospitalaria\n\n\nbetter.health.status\nMejor estado de salud\n\n\nphysical.activity\nActividad física",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Un modelo de predicción</span>"
    ]
  },
  {
    "objectID": "ejemplomodelo.html#preliminares",
    "href": "ejemplomodelo.html#preliminares",
    "title": "3  Un modelo de predicción",
    "section": "3.2 Preliminares",
    "text": "3.2 Preliminares\n\n\n\n\n\n\nTip\n\n\n\nRecuerda que para instalar un paquete como tidymodels basta con:\n\ninstall.packages(\"tidymodels\")\n\ny que éste proceso se hace una sola vez.\n\n\nComencemos instalando tidymodels y utilizando Falasinnu2023.RData como la fuente de datos.\n\n#Librerías de los modelos y de análisis de datos\nlibrary(tidymodels)\nlibrary(tidyverse)\nlibrary(gtsummary)\nlibrary(glmnet)\n\n#Agregar esto siempre para que sepa R que debe priorizar tidymodels por\n#encima de cualquier otra librería. \ntidymodels_prefer()\n\nCarguemos la base de datos con load:\n\nload(\"datos/Falasinnu2023.RData\")",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Un modelo de predicción</span>"
    ]
  },
  {
    "objectID": "ejemplomodelo.html#análisis-exploratorio-de-los-datos",
    "href": "ejemplomodelo.html#análisis-exploratorio-de-los-datos",
    "title": "3  Un modelo de predicción",
    "section": "3.3 Análisis exploratorio de los datos",
    "text": "3.3 Análisis exploratorio de los datos\nUna vez cargada la base de datos podemos utilizar glimpse para ver las variables que contiene:\n\ndat |&gt; glimpse()\n\nRows: 8,881\nColumns: 49\n$ studyid                &lt;chr&gt; \"20160000020101\", \"20160000250101\", \"2016000026…\n$ psu                    &lt;fct&gt; 2, 2, 5, 57, 26, 46, 36, 12, 6, 55, 43, 4, 9, 3…\n$ strata                 &lt;fct&gt; 149, 117, 149, 100, 136, 122, 103, 130, 121, 10…\n$ weight                 &lt;int&gt; 1717, 4088, 2566, 1311, 2903, 3781, 1278, 2995,…\n$ HICP                   &lt;dbl&gt; 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0,…\n$ age                    &lt;fct&gt; 65+, 65+, 65+, 65+, 65+, 65+, 65+, 65+, 65+, 65…\n$ sex                    &lt;fct&gt; Male, Male, Male, Male, Female, Female, Female,…\n$ hhsize                 &lt;int&gt; 1, 2, 3, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2,…\n$ born                   &lt;fct&gt; Born in US, Other place, Born in US, Born in US…\n$ marital                &lt;fct&gt; Divorced/separated, Married/with partner, Marri…\n$ region                 &lt;fct&gt; South, Midwest, South, West, South, South, Sout…\n$ race                   &lt;fct&gt; White, Others, White, White, Black, White, Whit…\n$ education              &lt;fct&gt; High school/GED, Bachelors degree or higher, So…\n$ employment.status      &lt;fct&gt; Worked previously, Employed non-hourly, Worked …\n$ poverty.status         &lt;fct&gt; 200-400% FPL, 400%+ FPL, 200-400% FPL, 400%+ FP…\n$ veteran                &lt;fct&gt; No, No, Yes, Yes, No, No, No, No, No, No, No, N…\n$ insurance              &lt;fct&gt; Medicaid/Medicare, Privately Insured, Other, Ot…\n$ sex.orientation        &lt;fct&gt; Heterosexual, Other, Heterosexual, Heterosexual…\n$ worried.money          &lt;fct&gt; No, No, Yes, No, Yes, No, No, No, Yes, No, Yes,…\n$ good.neighborhood      &lt;fct&gt; Yes, No, No, Yes, No, Yes, Yes, Yes, Yes, Yes, …\n$ psy.symptom            &lt;fct&gt; No, No, No, No, No, No, Yes, No, No, No, No, No…\n$ visit.ED               &lt;fct&gt; None, NA, None, None, None, None, One, None, No…\n$ surgery                &lt;fct&gt; None, None, None, One, None, None, None, One, N…\n$ dr.visit               &lt;fct&gt; &lt;6 months, NA, &lt;6 months, &lt;6 months, &lt;6 months,…\n$ cancer                 &lt;fct&gt; No, Yes, No, No, No, Yes, Yes, No, Yes, No, Yes…\n$ asthma                 &lt;fct&gt; No, No, No, No, No, No, No, No, No, No, Yes, No…\n$ htn                    &lt;fct&gt; Yes, No, Yes, Yes, Yes, Yes, Yes, No, Yes, Yes,…\n$ liver.disease          &lt;fct&gt; No, No, No, No, No, No, No, No, No, No, No, No,…\n$ diabetes               &lt;fct&gt; No, No, No, No, No, No, No, No, Yes, No, No, No…\n$ ulcer                  &lt;fct&gt; No, No, Yes, No, No, No, No, Yes, No, No, Yes, …\n$ stroke                 &lt;fct&gt; No, No, No, No, No, No, No, No, No, No, Yes, No…\n$ emphysema              &lt;fct&gt; No, No, No, No, No, No, No, No, No, No, Yes, No…\n$ copd                   &lt;fct&gt; No, No, No, No, No, No, No, No, No, No, No, No,…\n$ high.cholesterol       &lt;fct&gt; Yes, Yes, No, No, Yes, No, No, Yes, Yes, Yes, Y…\n$ coronary.heart.disease &lt;fct&gt; No, No, No, No, No, No, No, No, No, No, Yes, No…\n$ angina                 &lt;fct&gt; No, No, Yes, No, No, No, No, No, No, No, No, No…\n$ heart.attack           &lt;fct&gt; No, No, Yes, No, No, No, No, No, No, No, Yes, N…\n$ heart.disease          &lt;fct&gt; No, Yes, No, No, No, No, No, Yes, No, No, No, N…\n$ arthritis              &lt;fct&gt; No, No, Yes, Yes, Yes, No, Yes, No, No, No, Yes…\n$ crohns.disease         &lt;fct&gt; No, No, No, No, No, No, No, No, No, No, No, No,…\n$ comorbidity            &lt;dbl&gt; 2, 3, 5, 2, 3, 2, 3, 3, 4, 2, 10, 2, 5, 4, 4, 7…\n$ place.routine.care     &lt;fct&gt; No place, NA, Hospital/Clinic, Doctor's office,…\n$ trouble.asleep         &lt;fct&gt; No, NA, Yes, No, No, No, No, No, No, No, Yes, N…\n$ obese                  &lt;fct&gt; No, No, No, Yes, No, Yes, No, No, No, No, Yes, …\n$ current.smoker         &lt;fct&gt; No, No, No, No, No, No, No, No, No, No, No, No,…\n$ heavy.drinker          &lt;fct&gt; No, No, No, No, No, No, No, No, No, No, No, No,…\n$ hospitalization        &lt;fct&gt; None, None, None, None, None, None, None, None,…\n$ better.health.status   &lt;fct&gt; No, No, No, No, No, No, No, No, No, No, No, Yes…\n$ physical.activity      &lt;fct&gt; Less, Less, Moderate, Less, Moderate, Less, Les…\n\n\nNotamos que la base de datos contiene un total de 8,881 individuos.\n\n#Cambio la definición para que diga con dolor / sin dolor\ndat &lt;- dat |&gt; \n  mutate(HICP_label = factor(HICP, labels = c(\"sin dolor\", \"con dolor\")))\n\nPodemos ver cómo se distribuye todo con una tabla breve de resumen por algunas covariables:\n\ndat |&gt; \n  tbl_summary(\n    include = c(\"sex\", \"obese\", \"age\", \"employment.status\"),\n    by = HICP, \n  )\n\n\n\n\n\n\n\n\n\n\n\n\nCharacteristic\n0\nN = 7,792\n1\n1\nN = 1,089\n1\n\n\n\n\nsex\n\n\n\n\n\n\n    Female\n4,442 (57%)\n691 (63%)\n\n\n    Male\n3,350 (43%)\n398 (37%)\n\n\nobese\n2,219 (28%)\n482 (44%)\n\n\nage\n\n\n\n\n\n\n    &lt;65\n0 (0%)\n0 (0%)\n\n\n    65+\n7,792 (100%)\n1,089 (100%)\n\n\nemployment.status\n\n\n\n\n\n\n    Employed hourly\n687 (8.8%)\n29 (2.7%)\n\n\n    Employed non-hourly\n712 (9.2%)\n34 (3.1%)\n\n\n    Worked previously\n6,003 (77%)\n947 (87%)\n\n\n    Never worked\n363 (4.7%)\n78 (7.2%)\n\n\n    Unknown\n27\n1\n\n\n\n1\nn (%)\n\n\n\n\n\n\n\n\nLas covariables seleccionadas no son al azar son las que Şentürk et al. (2023) seleccionaron como covariables que afectaban el dolor de alto impacto.\nRecuerda que lo mismo puede hacerse de manera más lenta con count y mutate. Por ejemplo para contar cuántos hubo por tipo de empleo:\n\n#Creamos una nueva base que tenga la información de la proporción\nproporcion_tbl_1 &lt;- dat |&gt; \n  group_by(`employment.status`, HICP_label) |&gt; \n  count() |&gt; \n  group_by(HICP_label) |&gt; \n  mutate(proporcion = n / sum(n)) |&gt; \n  ungroup()\n\ny que se puede representar gráficamente el conteo con ggplot2:\n\n#Grafico\nggplot(proporcion_tbl_1) +\n  geom_col(aes(x = employment.status, y = proporcion, fill = HICP_label),\n           position = \"dodge\") +\n  theme_bw() +\n  scale_fill_manual(\"\", values = c(\"deepskyblue2\",\"deepskyblue4\")) +\n  scale_y_continuous(labels = scales::percent_format()) +\n  labs(\n    x = \"Hospitalizado\",\n    y = \"Proporción\",\n    title = \"Proporción de personas con dolor crónico de alto impacto\",\n    subtitle = \"Fuente: Falasinnu et al\"\n  ) +\n  theme(axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.5))",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Un modelo de predicción</span>"
    ]
  },
  {
    "objectID": "ejemplomodelo.html#modelo",
    "href": "ejemplomodelo.html#modelo",
    "title": "3  Un modelo de predicción",
    "section": "3.4 Modelo",
    "text": "3.4 Modelo\nEl modelo que nos interesa construir es un modelo de clasificación que prediga si un nuevo paciente será o no con dolor crónico de alto impacto. Inicialmente lo que haremos será dividir nuestra base de datos en dos conjuntos: de entrenamiento y de prueba.\nEl conjunto de entrenamiento es para construir un modelo; el conjunto de prueba es para evaluar el modelo. Es decir, por un lado entrenamiento será usado para construir el modelo de predicción y por otro utilizaremos prueba para ver qué tan buen modelo es para predecir.\n\n# Dividir los datos en entrenamiento y prueba\nset.seed(235724)\ndata_split &lt;- initial_split(dat, prop = 0.8) #La regla de dedo es 80% en entrenar / probar\ntrain_data &lt;- training(data_split)\ntest_data  &lt;- testing(data_split)\n\nPodemos ver que sí dividió los datos en aproximadamente el 80%:\n\ntrain_data |&gt; nrow()\n\n[1] 7104\n\ntest_data |&gt; nrow()\n\n[1] 1777\n\n\nPor otro lado utilizaremos un modelo de regresión logística:\n\n# Especificar el modelo de regresión logística\nlogistic_model &lt;- logistic_reg() |&gt; \n  set_engine(\"glm\")\n\nSe agrega finalmente una receta de lo que se desea hacer en este caso es modelar HIPC en tèrminos de sex, obesity y employment.status.\n\n# Crear una receta para el preprocesamiento\nrec &lt;- recipe(HICP_label ~ sex + obese + employment.status, data = dat) \n\nTodo se agrega en R dentro de un workflow:\n\nmodelaje &lt;- workflow() |&gt; \n  add_recipe(rec) |&gt; \n  add_model(logistic_model) #Pueden agregarse más modelos poniendo más add_models aquí!\n\nFinalmente ajustamos el modelo:\n\nlogistic_fit &lt;- modelaje |&gt; \n  fit(data = train_data)\n\nY vemos cómo se ven los predichos usando predict:\n\n# Predecir en los datos de prueba\nlogistic_preds &lt;- logistic_fit %&gt;%\n  predict(new_data = test_data, type = \"prob\") %&gt;%\n  bind_cols(test_data)\n\nDentro de tidymodels, logistic_reg() especifica una regresión logística y glm el ajuste que realizará. Por ejemplo se puede cambiar a stan si se desea una regresión logística bayesiana o a glmnet si se desea una logística tipo LASSO. Veremos esto más adelante a mayor profundidad.\nEl proceso de un modelo como vimos es entonces:\n\nObtener un objetivo\nProcesamiento/transformación de los datos\nDividir los datos en entrenamiento y prueba.\nElegir el modelo\nAjustar el modelo\n(Por ver) determinación de la calidad del modelo",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Un modelo de predicción</span>"
    ]
  },
  {
    "objectID": "ejemplomodelo.html#actividad-1",
    "href": "ejemplomodelo.html#actividad-1",
    "title": "3  Un modelo de predicción",
    "section": "3.5 Actividad 1",
    "text": "3.5 Actividad 1\n\nCon tu conocimiento (poco o mucho) de dolor crónico de alto impacto, construye un modelo distinto al que aquí se especifica. Llámale modelo_2.\nUtilizando exactamente las mismas variables que yo utilicé cambia el modelo en add_model al siguiente:\n\n\nrf &lt;- rand_forest(mode = \"classification\", trees = 250) |&gt;\n  set_engine(\"ranger\")",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Un modelo de predicción</span>"
    ]
  },
  {
    "objectID": "ejemplomodelo.html#comparación-de-los-modelos",
    "href": "ejemplomodelo.html#comparación-de-los-modelos",
    "title": "3  Un modelo de predicción",
    "section": "3.6 Comparación de los modelos",
    "text": "3.6 Comparación de los modelos\n\n3.6.1 AQUÍ FALTA ESTA SECCIÓN",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Un modelo de predicción</span>"
    ]
  },
  {
    "objectID": "ejemplomodelo.html#actividad-2",
    "href": "ejemplomodelo.html#actividad-2",
    "title": "3  Un modelo de predicción",
    "section": "3.7 Actividad 2",
    "text": "3.7 Actividad 2\n\nCompara los modelos realizados en la actividad 1. Determina cuál es el mejor modelo según las métricas de comparación.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Un modelo de predicción</span>"
    ]
  },
  {
    "objectID": "ejemplomodelo.html#actividad-3",
    "href": "ejemplomodelo.html#actividad-3",
    "title": "3  Un modelo de predicción",
    "section": "3.8 Actividad 3",
    "text": "3.8 Actividad 3\n\nUtilizando la base de datos datos/hechos_transito.rds consturye un modelo que prediga si dado un hecho de tránsito habrá o no personas fallecidas en función de las covariables.\nConstruye un segundo modelo incluyendo todas las covariables excepto folio, hora_evento, matricula_unidad_medica y sector. Utiliza el modelo que desees (yo recomiendo regresión LASSO pero puedes elegir lo que quieras).\nCompara ambos modelos y determina cuál es el mejor para predecir.\n\n\n\n\n\nFalasinnu, Titilola, Md Belal Hossain, Kenneth Arnold Weber II, Charles G Helmick, Mohammad Ehsanul Karim, and Sean Mackey. 2023. “The Problem of Pain in the United States: A Population-Based Characterization of Biopsychosocial Correlates of High Impact Chronic Pain Using the National Health Interview Survey.” The Journal of Pain 24 (6): 1094–1103.\n\n\nŞentürk, İlteriş Ahmet, Erman Şentürk, Işıl Üstün, Akın Gökçedağ, Nilgün Pulur Yıldırım, and Nilüfer Kale İçen. 2023. “High-Impact Chronic Pain: Evaluation of Risk Factors and Predictors.” The Korean Journal of Pain 36 (1): 84–97.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Un modelo de predicción</span>"
    ]
  },
  {
    "objectID": "ejemplomodelo.html#act1",
    "href": "ejemplomodelo.html#act1",
    "title": "3  Un modelo de predicción",
    "section": "3.6 Actividad 1",
    "text": "3.6 Actividad 1\n\nCon tu conocimiento (poco o mucho) de dolor crónico de alto impacto, construye un modelo logístico (no LASSO) distinto al que aquí se especifica. Llámale modelo_3.\nUtilizando exactamente las mismas variables que yo utilicé cambia el modelo en add_model al siguiente de aprendizaje de máquina:\n\n\nrf &lt;- boost_tree(mode = \"classification\") |&gt;\n  set_engine(\"xgboost\")",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Un modelo de predicción</span>"
    ]
  },
  {
    "objectID": "ejemplomodelo.html#modelo-versión-1",
    "href": "ejemplomodelo.html#modelo-versión-1",
    "title": "3  Un modelo de predicción",
    "section": "3.4 Modelo (versión 1)",
    "text": "3.4 Modelo (versión 1)\nEl modelo que nos interesa construir es un modelo de clasificación que prediga si un nuevo paciente será o no con dolor crónico de alto impacto. Inicialmente lo que haremos será dividir nuestra base de datos en dos conjuntos: de entrenamiento y de prueba.\nEl conjunto de entrenamiento es para construir un modelo; el conjunto de prueba es para evaluar el modelo. Es decir, por un lado entrenamiento será usado para construir el modelo de predicción y por otro utilizaremos prueba para ver qué tan buen modelo es para predecir.\n\n# Dividir los datos en entrenamiento y prueba\nset.seed(235724)\ndata_split &lt;- initial_split(dat, prop = 0.8) #La regla de dedo es 80% en entrenar / probar\ntrain_data &lt;- training(data_split)\ntest_data  &lt;- testing(data_split)\n\nPodemos ver que sí dividió los datos en aproximadamente el 80%:\n\ntrain_data |&gt; nrow()\n\n[1] 7104\n\ntest_data |&gt; nrow()\n\n[1] 1777\n\n\nPor otro lado utilizaremos un modelo de regresión logística:\n\n# Especificar el modelo de regresión logística\nlogistic_model &lt;- logistic_reg() |&gt; \n  set_engine(\"glm\")\n\nSe agrega finalmente una receta de lo que se desea hacer en este caso es modelar HIPC en tèrminos de sex, obesity y employment.status.\n\n# Crear una receta para el preprocesamiento\nrec &lt;- recipe(HICP_label ~ sex + obese + employment.status, data = dat) \n\nTodo se agrega en R dentro de un workflow:\n\nmodelaje &lt;- workflow() |&gt; \n  add_recipe(rec) |&gt; \n  add_model(logistic_model) #Pueden agregarse más modelos poniendo más add_models aquí!\n\nFinalmente ajustamos el modelo:\n\nlogistic_fit &lt;- modelaje |&gt; \n  fit(data = train_data)\n\nY vemos cómo se ven los predichos usando predict:\n\n# Predecir en los datos de prueba\nlogistic_preds &lt;- logistic_fit %&gt;%\n  predict(new_data = test_data) %&gt;%\n  bind_cols(test_data)\n\nPodemos estimar la matriz de confusión para ver qué tan bueno es el modelo:\n\nlogistic_preds |&gt; \n  conf_mat(truth = HICP_label, estimate = .pred_class)\n\n           Truth\nPrediction  sin dolor con dolor\n  sin dolor      1533       238\n  con dolor         0         0\n\n\nEs un modelo muy malo pues a todos los predijo sin_dolor. Veamos un segundo modelo!",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Un modelo de predicción</span>"
    ]
  },
  {
    "objectID": "ejemplomodelo.html#modelo-versión-2",
    "href": "ejemplomodelo.html#modelo-versión-2",
    "title": "3  Un modelo de predicción",
    "section": "3.5 Modelo (versión 2)",
    "text": "3.5 Modelo (versión 2)\nEn este caso utilizaremos un modelo LASSO. LASSO es un modelo de regresión logística que automáticamente selecciona las variables que mejor ayudan a predecir. Veremos con mayor profundidad este concepto más adelante por ahora ajustemos el modelo agregando a un nuevo workflow del que ya teníamos:\n\n# Especificar el modelo de regresión logística\nlasso_model &lt;- logistic_reg(penalty = 0.2, mixture = 0.1) |&gt; \n  set_engine(\"glmnet\")\n\nAgregamos a un nuevo workflow:\n\nmodelaje_3 &lt;- workflow() |&gt; \n  add_recipe(\n    recipe(HICP_label ~ ., data = dat) |&gt; \n      step_rm(studyid) |&gt; \n      step_unknown(all_nominal_predictors()) |&gt; \n      step_dummy(all_nominal_predictors()) |&gt; \n      step_naomit(all_predictors()) \n  ) |&gt; \n  add_model(lasso_model) \n\nAjustamos\n\nlasso_fit &lt;- modelaje_3 |&gt; \n  fit(data = train_data)\n\nY vemos cómo se ven los predichos usando predict:\n\n# Predecir en los datos de prueba\nlasso_preds &lt;- lasso_fit %&gt;%\n  predict(new_data = test_data) %&gt;%\n  bind_cols(test_data)\n\nPodemos estimar la matriz de confusión para ver qué tan bueno es el modelo:\n\nlasso_preds |&gt; \n  conf_mat(truth = HICP_label, estimate = .pred_class)\n\n           Truth\nPrediction  sin dolor con dolor\n  sin dolor      1515        70\n  con dolor         0       159\n\n\n¡Mucho mejor!\nEl proceso de un modelo como vimos es entonces:\n\nObtener un objetivo\nProcesamiento/transformación de los datos\nDividir los datos en entrenamiento y prueba.\nElegir el modelo\nAjustar el modelo\n(Por ver) determinación de la calidad del modelo",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Un modelo de predicción</span>"
    ]
  }
]